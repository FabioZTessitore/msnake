CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(snake)

SET(SNAKE_ROOT_PATH ${PROJECT_BINARY_DIR})
SET(SNAKE_SOURCE_PATH ${SNAKE_ROOT_PATH}/src)
SET(SNAKE_BIN_PATH ${SNAKE_ROOT_PATH}/bin)
SET(SNAKE_EXEC_NAME msnake)

SET(EXECUTABLE_OUTPUT_PATH ${SNAKE_BIN_PATH})

SET(CURSES_NEED_NCURSES TRUE)

FILE(GLOB_RECURSE SNAKE_SOURCE_FILES ${SNAKE_SOURCE_PATH}/*.c)

SET(CMAKE_CXX_FLAGS "-Wall")

ADD_EXECUTABLE(${SNAKE_EXEC_NAME} ${SNAKE_SOURCE_FILES})

IF(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
  TARGET_LINK_LIBRARIES(${SNAKE_EXEC_NAME} -lcurses -lrt)
ELSEIF(${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
  TARGET_LINK_LIBRARIES(${SNAKE_EXEC_NAME} -lcurses)
ENDIF(${CMAKE_SYSTEM_NAME} MATCHES "Linux")

INSTALL(TARGETS ${SNAKE_EXEC_NAME} DESTINATION /usr/bin/)
